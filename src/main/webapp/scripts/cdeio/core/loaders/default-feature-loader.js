// Generated by CoffeeScript 1.8.0
(function() {
  define(['cdeio/core/feature', 'cdeio/core/config'], function(Feature, config) {
    return {
      type: 'feature',
      name: 'DEFAULT',
      fn: function(module, feature, featureName, args) {
        var deferred, options;
        options = args[0];
        deferred = $.Deferred();
        if ((options != null ? options.avoidLoadingFeature : void 0) === true) {
          deferred.resolve(null);
          return deferred;
        }
        module.loadResource(featureName + '.feature/' + config.featureFileName).done(function(def) {
          if (def === null) {
            return deferred.resolve(null);
          }
          def.baseName = featureName;
          def.module = module;
          feature = new Feature(def, options);
          return deferred.resolve(feature);
        });
        return deferred.promise();
      }
    };
  });

}).call(this);
